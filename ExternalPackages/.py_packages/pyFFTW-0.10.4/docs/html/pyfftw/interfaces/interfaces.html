<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyfftw.interfaces - Drop in replacements for other FFT implementations &mdash; pyFFTW 0.10.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.10.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="pyFFTW 0.10.2 documentation" href="../../index.html" />
    <link rel="up" title="API Reference" href="../../sphinx/api.html" />
    <link rel="next" title="numpy.fft interface" href="numpy_fft.html" />
    <link rel="prev" title="pyfftw.builders._utils - Helper functions for pyfftw.builders" href="../builders/_utils.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="numpy_fft.html" title="numpy.fft interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../builders/_utils.html" title="pyfftw.builders._utils - Helper functions for pyfftw.builders"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">pyFFTW 0.10.2 documentation</a> &raquo;</li>
          <li><a href="../../sphinx/api.html" accesskey="U">API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pyfftw-interfaces-drop-in-replacements-for-other-fft-implementations">
<h1><tt class="docutils literal"><span class="pre">pyfftw.interfaces</span></tt> - Drop in replacements for other FFT implementations<a class="headerlink" href="#pyfftw-interfaces-drop-in-replacements-for-other-fft-implementations" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-pyfftw.interfaces"></span><p>The <a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a> package provides interfaces to <a class="reference internal" href="../pyfftw.html#module-pyfftw" title="pyfftw"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw</span></tt></a>
that implement the API of other, more commonly used FFT libraries;
specifically <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a> and <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/fftpack.html#module-scipy.fftpack" title="(in SciPy v0.17.1)"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.fftpack</span></tt></a>. The
intention is to satisfy two clear use cases:</p>
<ol class="arabic simple">
<li>Simple, clean and well established interfaces to using <a class="reference internal" href="../pyfftw.html#module-pyfftw" title="pyfftw"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw</span></tt></a>,
removing the requirement for users to know or understand about creating and
using <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> objects, whilst still benefiting from most of the
speed benefits of FFTW.</li>
<li>A library that can be dropped into code that is already written to
use a supported FFT library, with no significant change to the existing
code. The power of python allows this to be done at runtime to a third
party library, without changing any of that library&#8217;s code.</li>
</ol>
<p>The <a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a> implementation is designed to sacrifice a small
amount of the flexibility compared to accessing the <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a>
object directly, but implements a reasonable set of defaults and optional
tweaks that should satisfy most situations.</p>
<p>The precision of the transform that is used is selected from the array that
is passed in, defaulting to double precision if any type conversion is
required.</p>
<p>This module works by generating a <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> object behind the
scenes using the <a class="reference internal" href="../builders/builders.html#module-pyfftw.builders" title="pyfftw.builders"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.builders</span></tt></a> interface, which is then executed.
There is therefore a potentially substantial overhead when a new plan needs
to be created. This is down to FFTW&#8217;s internal planner process.
After a specific transform has been planned once, subsequent calls in which
the input array is equivalent will be much faster, though still not without
potentially significant overhead. <em>This</em> overhead can be largely alleviated by
enabling the <a class="reference internal" href="#module-pyfftw.interfaces.cache" title="pyfftw.interfaces.cache"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces.cache</span></tt></a> functionality. However, even when
the cache is used, very small transforms may suffer a significant relative
slow-down not present when accessing <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> directly (because the
transform time can be negligibly small compared to the fixed
<a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a> overhead).</p>
<p>In addition, potentially extra copies of the input array might be made.</p>
<p>If speed or memory conservation is of absolutely paramount importance, the
suggestion is to use <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> (which provides better control over
copies and so on), either directly or through <a class="reference internal" href="../builders/builders.html#module-pyfftw.builders" title="pyfftw.builders"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.builders</span></tt></a>. As
always, experimentation is the best guide to optimisation.</p>
<p>In practice, this means something like the following (taking
<a class="reference internal" href="numpy_fft.html#module-pyfftw.interfaces.numpy_fft" title="pyfftw.interfaces.numpy_fft"><tt class="xref py py-mod docutils literal"><span class="pre">numpy_fft</span></tt></a> as an example):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyfftw</span><span class="o">,</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">empty_aligned</span><span class="p">((</span><span class="mi">128</span><span class="p">,</span> <span class="mi">64</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;complex64&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1j</span><span class="o">*</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fft_a</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">numpy_fft</span><span class="o">.</span><span class="n">fft2</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c"># Will need to plan</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">empty_aligned</span><span class="p">((</span><span class="mi">128</span><span class="p">,</span> <span class="mi">64</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;complex64&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fft_b</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">numpy_fft</span><span class="o">.</span><span class="n">fft2</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="c"># Already planned, so faster</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">empty_aligned</span><span class="p">(</span><span class="mi">132</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;complex128&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fft_c</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">numpy_fft</span><span class="o">.</span><span class="n">fft</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="c"># Needs a new plan</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">c</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1j</span><span class="o">*</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">c</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pyfftw</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fft_a</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">numpy_fft</span><span class="o">.</span><span class="n">fft2</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c"># still planned</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fft_b</span> <span class="o">=</span> <span class="n">pyfftw</span><span class="o">.</span><span class="n">interfaces</span><span class="o">.</span><span class="n">numpy_fft</span><span class="o">.</span><span class="n">fft2</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="c"># much faster, from the cache</span>
</pre></div>
</div>
<p>The usual wisdom import and export functions work well for the case where
the initial plan might be prohibitively expensive. Just use
<a class="reference internal" href="../pyfftw.html#pyfftw.export_wisdom" title="pyfftw.export_wisdom"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.export_wisdom()</span></tt></a> and <a class="reference internal" href="../pyfftw.html#pyfftw.import_wisdom" title="pyfftw.import_wisdom"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.import_wisdom()</span></tt></a> as needed after
having performed the transform once.</p>
<div class="section" id="implemented-functions">
<h2>Implemented Functions<a class="headerlink" href="#implemented-functions" title="Permalink to this headline">Â¶</a></h2>
<p>The implemented functions are listed below. <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a> is implemented
by <a class="reference internal" href="numpy_fft.html#module-pyfftw.interfaces.numpy_fft" title="pyfftw.interfaces.numpy_fft"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft</span></tt></a> and <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/fftpack.html#module-scipy.fftpack" title="(in SciPy v0.17.1)"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.fftpack</span></tt></a> by
<a class="reference internal" href="scipy_fftpack.html#module-pyfftw.interfaces.scipy_fftpack" title="pyfftw.interfaces.scipy_fftpack"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack</span></tt></a>. All the implemented functions are
extended by the use of additional arguments, which are
<a class="reference internal" href="#interfaces-additional-args"><em>documented below</em></a>.</p>
<p>Not all the functions provided by <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a> and <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/fftpack.html#module-scipy.fftpack" title="(in SciPy v0.17.1)"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.fftpack</span></tt></a>
are implemented by <a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a>. In the case where a function is
not implemented, the function is imported into the namespace from the
corresponding library. This means that all the documented functionality of the
library <em>is</em> provided through <a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a>.</p>
<p>One known caveat is that repeated axes are potentially handled
differently. This is certainly the case for <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a> and probably
also true for <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/fftpack.html#module-scipy.fftpack" title="(in SciPy v0.17.1)"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.fftpack</span></tt></a> (though it is not defined in the
docs); axes that are repeated in the axes argument are considered only once, as
compared to <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a> in which repeated axes results in the DFT
being taken along that axes as many times as the axis occurs.</p>
<div class="section" id="numpy-fft">
<h3><a class="reference internal" href="numpy_fft.html#module-pyfftw.interfaces.numpy_fft" title="pyfftw.interfaces.numpy_fft"><tt class="xref py py-mod docutils literal"><span class="pre">numpy_fft</span></tt></a><a class="headerlink" href="#numpy-fft" title="Permalink to this headline">Â¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.fft" title="pyfftw.interfaces.numpy_fft.fft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.fft()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.ifft" title="pyfftw.interfaces.numpy_fft.ifft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.ifft()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.fft2" title="pyfftw.interfaces.numpy_fft.fft2"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.fft2()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.ifft2" title="pyfftw.interfaces.numpy_fft.ifft2"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.ifft2()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.fftn" title="pyfftw.interfaces.numpy_fft.fftn"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.fftn()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.ifftn" title="pyfftw.interfaces.numpy_fft.ifftn"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.ifftn()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.rfft" title="pyfftw.interfaces.numpy_fft.rfft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.rfft()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.irfft" title="pyfftw.interfaces.numpy_fft.irfft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.irfft()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.rfft2" title="pyfftw.interfaces.numpy_fft.rfft2"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.rfft2()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.irfft2" title="pyfftw.interfaces.numpy_fft.irfft2"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.irfft2()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.rfftn" title="pyfftw.interfaces.numpy_fft.rfftn"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.rfftn()</span></tt></a></li>
<li><a class="reference internal" href="numpy_fft.html#pyfftw.interfaces.numpy_fft.irfftn" title="pyfftw.interfaces.numpy_fft.irfftn"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.irfftn()</span></tt></a></li>
<li><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.hfft()</span></tt></li>
<li><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.numpy_fft.ihfft()</span></tt></li>
</ul>
</div>
<div class="section" id="scipy-fftpack">
<h3><a class="reference internal" href="scipy_fftpack.html#module-pyfftw.interfaces.scipy_fftpack" title="pyfftw.interfaces.scipy_fftpack"><tt class="xref py py-mod docutils literal"><span class="pre">scipy_fftpack</span></tt></a><a class="headerlink" href="#scipy-fftpack" title="Permalink to this headline">Â¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.fft" title="pyfftw.interfaces.scipy_fftpack.fft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.fft()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.ifft" title="pyfftw.interfaces.scipy_fftpack.ifft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.ifft()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.fft2" title="pyfftw.interfaces.scipy_fftpack.fft2"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.fft2()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.ifft2" title="pyfftw.interfaces.scipy_fftpack.ifft2"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.ifft2()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.fftn" title="pyfftw.interfaces.scipy_fftpack.fftn"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.fftn()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.ifftn" title="pyfftw.interfaces.scipy_fftpack.ifftn"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.ifftn()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.rfft" title="pyfftw.interfaces.scipy_fftpack.rfft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.rfft()</span></tt></a></li>
<li><a class="reference internal" href="scipy_fftpack.html#pyfftw.interfaces.scipy_fftpack.irfft" title="pyfftw.interfaces.scipy_fftpack.irfft"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.scipy_fftpack.irfft()</span></tt></a></li>
</ul>
</div>
</div>
<div class="section" id="additional-arguments">
<span id="interfaces-additional-args"></span><h2>Additional Arguments<a class="headerlink" href="#additional-arguments" title="Permalink to this headline">Â¶</a></h2>
<p>In addition to the equivalent arguments in <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a> and
<a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/fftpack.html#module-scipy.fftpack" title="(in SciPy v0.17.1)"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.fftpack</span></tt></a>, all these functions also add several additional
arguments for finer control over the FFT. These additional arguments are
largely a subset of the
keyword arguments in <a class="reference internal" href="../builders/builders.html#module-pyfftw.builders" title="pyfftw.builders"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.builders</span></tt></a> with a few exceptions and with
different defaults.</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">overwrite_input</span></tt>: Whether or not the input array can be
overwritten during the transform. This sometimes results in a faster
algorithm being made available. It causes the <tt class="docutils literal"><span class="pre">'FFTW_DESTROY_INPUT'</span></tt>
flag to be passed to the intermediate <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> object.
Unlike with <a class="reference internal" href="../builders/builders.html#module-pyfftw.builders" title="pyfftw.builders"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.builders</span></tt></a>, this argument is included with
<em>every</em> function in this package.</p>
<p>In <a class="reference internal" href="scipy_fftpack.html#module-pyfftw.interfaces.scipy_fftpack" title="pyfftw.interfaces.scipy_fftpack"><tt class="xref py py-mod docutils literal"><span class="pre">scipy_fftpack</span></tt></a>, this argument is replaced
by <tt class="docutils literal"><span class="pre">overwrite_x</span></tt>, to which it is equivalent (albeit at the same
position).</p>
<p>The default is <tt class="docutils literal"><span class="pre">False</span></tt> to be consistent with <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.fft.html#module-numpy.fft" title="(in NumPy v1.11)"><tt class="xref py py-mod docutils literal"><span class="pre">numpy.fft</span></tt></a>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">planner_effort</span></tt>: A string dictating how much effort is spent
in planning the FFTW routines. This is passed to the creation
of the intermediate <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> object as an entry
in the flags list. They correspond to flags passed to the
<a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> object.</p>
<p>The valid strings, in order of their increasing impact on the time
to compute  are:
<tt class="docutils literal"><span class="pre">'FFTW_ESTIMATE'</span></tt>, <tt class="docutils literal"><span class="pre">'FFTW_MEASURE'</span></tt> (default), <tt class="docutils literal"><span class="pre">'FFTW_PATIENT'</span></tt>
and <tt class="docutils literal"><span class="pre">'FFTW_EXHAUSTIVE'</span></tt>.</p>
<p>The <a class="reference external" href="http://www.fftw.org/fftw3_doc/Words-of-Wisdom_002dSaving-Plans.html">Wisdom</a>
that FFTW has accumulated or has loaded (through
<a class="reference internal" href="../pyfftw.html#pyfftw.import_wisdom" title="pyfftw.import_wisdom"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.import_wisdom()</span></tt></a>) is used during the creation of
<a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> objects.</p>
<p>Note that the first time planning stage can take a substantial amount
of time. For this reason, the default is to use <tt class="docutils literal"><span class="pre">'FFTW_ESTIMATE'</span></tt>, which
potentially results in a slightly suboptimal plan being used, but with
a substantially quicker first-time planner step.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">threads</span></tt>: The number of threads used to perform the FFT.</p>
<p>The default is <tt class="docutils literal"><span class="pre">1</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">auto_align_input</span></tt>: Correctly byte align the input array for optimal
usage of vector instructions. This can lead to a substantial speedup.</p>
<p>This argument being <tt class="docutils literal"><span class="pre">True</span></tt> makes sure that the input array
is correctly aligned. It is possible to correctly byte align the array
prior to calling this function (using, for example,
<a class="reference internal" href="../pyfftw.html#pyfftw.byte_align" title="pyfftw.byte_align"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.byte_align()</span></tt></a>). If and only if a realignment is
necessary is a new array created.</p>
<p>It&#8217;s worth noting that just being aligned may not be sufficient to
create the fastest possible transform. For example, if the array is not
contiguous (i.e. certain axes have gaps in memory between slices), it may
be faster to plan a transform for a contiguous array, and then rely on
the array being copied in before the transform (which
<a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> will handle for you). The <tt class="docutils literal"><span class="pre">auto_contiguous</span></tt>
argument controls whether this function also takes care of making sure
the array is contiguous or not.</p>
<p>The default is <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">auto_contiguous</span></tt>: Make sure the input array is contiguous in
memory before performing the transform on it. If the array is not
contiguous, it is copied into an interim array. This is because it
is often faster to copy the data before the transform and then transform
a contiguous array than it is to try to take the transform of a
non-contiguous array. This is particularly true in conjunction with
the <tt class="docutils literal"><span class="pre">auto_align_input</span></tt> argument which is used to make sure that the
transform is taken of an aligned array.</p>
<p>The default is <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
</li>
</ul>
</div>
<div class="section" id="module-pyfftw.interfaces.cache">
<span id="caching"></span><h2>Caching<a class="headerlink" href="#module-pyfftw.interfaces.cache" title="Permalink to this headline">Â¶</a></h2>
<p>During calls to functions implemented in <a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a>, a
<a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> object is necessarily created. Although the time to
create a new <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> is short (assuming that the planner
possesses the necessary wisdom to create the plan immediately), it may
still take longer than a short transform.</p>
<p>This module implements a method by which objects that are created through
<a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a> are temporarily cached. If an equivalent
transform is then performed within a short period, the object is acquired
from the cache rather than a new one created. The equivalency is quite
conservative and in practice means that if any of the arguments change, or
if the properties of the array (shape, strides, dtype) change in any way, then
the cache lookup will fail.</p>
<p>The cache temporarily stores a copy of any interim <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a>
objects that are created. If they are not used for some period of time,
which can be set with <a class="reference internal" href="#pyfftw.interfaces.cache.set_keepalive_time" title="pyfftw.interfaces.cache.set_keepalive_time"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.cache.set_keepalive_time()</span></tt></a>,
then they are removed from the cache (liberating any associated memory).
The default keepalive time is 0.1 seconds.</p>
<p>Enable the cache by calling <a class="reference internal" href="#pyfftw.interfaces.cache.enable" title="pyfftw.interfaces.cache.enable"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.cache.enable()</span></tt></a>.
Disable it by calling <a class="reference internal" href="#pyfftw.interfaces.cache.disable" title="pyfftw.interfaces.cache.disable"><tt class="xref py py-func docutils literal"><span class="pre">pyfftw.interfaces.cache.disable()</span></tt></a>. By default,
the cache is disabled.</p>
<p>Note that even with the cache enabled, there is a fixed overhead associated
with lookups. This means that for small transforms, the overhead may exceed
the transform. At this point, it&#8217;s worth looking at using <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-class docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a>
directly.</p>
<p>When the cache is enabled, the module spawns a new thread to keep track
of the objects. If <a class="reference external" href="http://docs.python.org/library/threading.html#module-threading" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">threading</span></tt></a> is not available, then the cache
is not available and trying to use it will raise an ImportError exception.</p>
<p>The actual implementation of the cache is liable to change, but the
documented API is stable.</p>
<dl class="function">
<dt id="pyfftw.interfaces.cache.enable">
<tt class="descclassname">pyfftw.interfaces.cache.</tt><tt class="descname">enable</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfftw.interfaces.cache.enable" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Enable the cache.</p>
</dd></dl>

<dl class="function">
<dt id="pyfftw.interfaces.cache.disable">
<tt class="descclassname">pyfftw.interfaces.cache.</tt><tt class="descname">disable</tt><big>(</big><big>)</big><a class="headerlink" href="#pyfftw.interfaces.cache.disable" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Disable the cache.</p>
</dd></dl>

<dl class="function">
<dt id="pyfftw.interfaces.cache.set_keepalive_time">
<tt class="descclassname">pyfftw.interfaces.cache.</tt><tt class="descname">set_keepalive_time</tt><big>(</big><em>keepalive_time</em><big>)</big><a class="headerlink" href="#pyfftw.interfaces.cache.set_keepalive_time" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Set the minimum time in seconds for which any <a class="reference internal" href="../pyfftw.html#pyfftw.FFTW" title="pyfftw.FFTW"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.FFTW</span></tt></a> object
in the cache is kept alive.</p>
<p>When the cache is enabled, the interim objects that are used through
a <a class="reference internal" href="#module-pyfftw.interfaces" title="pyfftw.interfaces"><tt class="xref py py-mod docutils literal"><span class="pre">pyfftw.interfaces</span></tt></a> function are cached for the time set through
this function. If the object is not used for the that time, it is
removed from the cache. Using the object zeros the timer.</p>
<p>The time is not precise, and sets a minimum time to be alive. In
practice, it may be quite a bit longer before the object is
deleted from the cache (due to implementational details - e.g. contention
from other threads).</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">pyfftw.interfaces</span></tt> - Drop in replacements for other FFT implementations</a><ul>
<li><a class="reference internal" href="#implemented-functions">Implemented Functions</a><ul>
<li><a class="reference internal" href="#numpy-fft"><tt class="docutils literal"><span class="pre">numpy_fft</span></tt></a></li>
<li><a class="reference internal" href="#scipy-fftpack"><tt class="docutils literal"><span class="pre">scipy_fftpack</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-arguments">Additional Arguments</a></li>
<li><a class="reference internal" href="#module-pyfftw.interfaces.cache">Caching</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../builders/_utils.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">pyfftw.builders._utils</span></tt> - Helper functions for <tt class="docutils literal"><span class="pre">pyfftw.builders</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="numpy_fft.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">numpy.fft</span></tt> interface</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/pyfftw/interfaces/interfaces.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="numpy_fft.html" title="numpy.fft interface"
             >next</a> |</li>
        <li class="right" >
          <a href="../builders/_utils.html" title="pyfftw.builders._utils - Helper functions for pyfftw.builders"
             >previous</a> |</li>
        <li><a href="../../index.html">pyFFTW 0.10.2 documentation</a> &raquo;</li>
          <li><a href="../../sphinx/api.html" >API Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Henry Gomersall.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>